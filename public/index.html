<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="referrer" content="no-referrer" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>logo.ico">
    <title>人民万岁</title>
    <style>   
        html,body,#app{
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        body{
            background: black; /* 默认黑色背景 */
        }
    </style>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const bgUrl = 'https://images-pc.oss-cn-hongkong.aliyuncs.com/app/bg.png';
        const img = new Image();
        let loaded = false;

        // 5秒超时控制
        const timer = setTimeout(() => {
          if (!loaded) {
            document.body.style.background = 'black';
            img.onload = img.onerror = null; // 清除事件监听
          }
        }, 5000);

        // 图片加载成功
        img.onload = function() {
          loaded = true;
          clearTimeout(timer);
          document.body.style.background = `url(${bgUrl}) no-repeat center center/cover`;
        };

        // 图片加载失败
        img.onerror = function() {
          loaded = true;
          clearTimeout(timer);
          document.body.style.background = 'black';
        };

        img.src = bgUrl;
      });
    </script>
  </body>
</html>