{"version":3,"file":"js/84.ed7360da.js","mappings":"yYA4DOA,EAAgB,iF,+BAvBtB,MAAMC,EAAa,GACbC,GAAeC,EAAAA,EAAAA,IAAI,IACzB,IAAK,IAAIC,EAAI,EAAGA,GAAK,GAAIA,IACxBH,EAAWI,KAAK,CACfC,MAAOF,EACPG,OAAS,2DAA0DH,WAIrE,MAAMI,EAAiBC,IACtBC,OAAOC,KAAKF,EAAM,SAAlB,EAIDG,eAAeC,EAAyBC,GACvC,IACC,MAAMC,QAAiBC,EAAAA,EAAAA,IAAUF,GACjC,OAAOC,EAASE,IAIhB,CAHC,MAAOC,GAER,MADAC,QAAQD,MAAM,cAAeA,GACvBA,CACN,CACD,CAEDL,EAAyBb,GACvBoB,MAAMH,IACNf,EAAamB,MAAQJ,CAArB,IAEAK,OAAOJ,IACPC,QAAQD,MAAM,mBAAoBA,EAAlC,IAGF,MAAMK,EAAkB,KACvBC,SAASC,iBAAiB,eAAeC,SAASC,IACjDA,EAAKC,MAAMC,UAAY,kBACvBF,EAAKC,MAAME,WAAa,cAAxB,GAFD,EAKKC,EAAsB,KAC3BP,SAASC,iBAAiB,cAAcC,SAASC,IAChDA,EAAKC,MAAMC,UAAY,gBACvBF,EAAKC,MAAME,WAAa,cAAxB,GAFD,E,OAKDE,EAAAA,EAAAA,KAAU,KAET,MAAMC,EAAa,KAClB,MAAMC,EAAkBV,SAASW,cAAc,qBACzCC,EAAaZ,SAASa,eAAe,eACrCC,EAAYd,SAASa,eAAe,cACpCE,EAAWf,SAASW,cAAc,cAClCK,EAAahB,SAASW,cAAc,gBACpCM,EAAeH,EAAUb,iBAAiB,OAAOiB,OACvD,IAAIC,EAAmB,EAEvBJ,EAASK,iBAAiB,SAAS,IAAMC,EAAY,QACrDL,EAAWI,iBAAiB,SAAS,IAAMC,EAAY,UACvD,MAAMA,EAAeC,IACpBN,EAAWO,UAAUC,IAAI,eACzBT,EAASQ,UAAUC,IAAI,aACvBC,YAAW,KACVV,EAASQ,UAAUG,OAAO,aAC1BV,EAAWO,UAAUG,OAAO,cAA5B,GACE,KACH,MAAMC,EAAejB,EAAgBkB,aACnB,OAAdN,GACHH,IACIA,EAAmBF,EAAe,IACrCE,EAAmB,IAEI,SAAdG,IACVH,IACIA,EAAmB,IACtBA,EAAmBF,EAAe,IAGpCL,EAAWR,MAAMC,UAAa,eAAcc,EAAmBQ,OAC/Db,EAAUV,MAAMC,UAAa,eAAcc,EAAmBQ,MAA9D,CApBD,EAuBDlB,GAAY,I,8gCC/Gd,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue3_test/./src/pages/Aphorism/index.vue","webpack://vue3_test/./src/pages/Aphorism/index.vue?1af3"],"sourcesContent":["<template>\r\n\t<div id=\"land-con\">\r\n\t\t<!-- 主页面加载页 -->\r\n\t\t<!-- <PageChange></PageChange> -->\r\n\t\t<div class=\"slider-container\">\r\n\t\t\t<div id=\"left-slide\">\r\n\t\t\t\t<span v-for=\"value in imgLeftArr\" :key=\"value.imgId\">\r\n\t\t\t\t\t<div class=\"flip-card\">\r\n\t\t\t\t\t\t<section>\r\n\t\t\t\t\t\t\t<h3>创作背景</h3>\r\n\t\t\t\t\t\t\t<h4> </h4>\r\n\t\t\t\t\t\t\t<h4>{{ noteRightArr[value.imgId]?.background }}</h4>\r\n\t\t\t\t\t\t\t<h3 v-if=\"noteRightArr[value.imgId]?.product!==''\">作者 （ {{ noteRightArr[value.imgId]?.product }}）</h3>\r\n\t\t\t\t\t\t\t<h4>{{ noteRightArr[value.imgId]?.author }}</h4>\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t<img :src=\"value.imgSrc\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div id=\"right-slide\">\r\n\t\t\t\t<p v-for=\"note in noteRightArr\" :key=\"note.id\" @mouseover=\"rotateLeftSlide()\" @mouseout=\"rotateLeftSlideBack()\" @click=\"openNewWindow(note.link)\"> {{ note.poem }} </p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div id=\"action-buttons\">\r\n\t\t\t\t<button class=\"down-button\">▽</button>\r\n\t\t\t\t<button class=\"return-button\" @click=\"router.push('/')\">☾</button>\r\n\t\t\t\t<button class=\"up-button\">▲</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { onMounted, ref, reactive, nextTick } from \"vue\";\r\n\timport router from \"@/router\";\r\n\timport axios from \"axios\";\r\n\tconst imgLeftArr = [];\r\n\tconst noteRightArr = ref([]);\r\n\tfor (let i = 0; i <= 39; i++) {\r\n\t\timgLeftArr.push({\r\n\t\t\timgId: i,\r\n\t\t\timgSrc: `https://images-pc.oss-cn-hongkong.aliyuncs.com/aphorism/${i}.webp`,\r\n\t\t});\r\n\t}\r\n\r\n\tconst openNewWindow = (link) => {\r\n\t\twindow.open(link, \"_blank\");\r\n\t};\r\n\r\n\t//读取阿里云oss里面的json文件\r\n\tasync function fetchPublicJsonWithAxios(url) {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(url);\r\n\t\t\treturn response.data;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"读取json文件失败:\", error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\tconst publicJsonUrl = \"https://images-pc.oss-cn-hongkong.aliyuncs.com/aphorism/poem/aphorismList.json\";\r\n\tfetchPublicJsonWithAxios(publicJsonUrl)\r\n\t\t.then((data) => {\r\n\t\t\tnoteRightArr.value = data;\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error(\"axios读取json文件失败:\", error);\r\n\t\t});\r\n\r\n\tconst rotateLeftSlide = () => {\r\n\t\tdocument.querySelectorAll(\" .flip-card\").forEach((item) => {\r\n\t\t\titem.style.transform = \"rotateY(180deg)\";\r\n\t\t\titem.style.transition = \"transform 1s\";\r\n\t\t});\r\n\t};\r\n\tconst rotateLeftSlideBack = () => {\r\n\t\tdocument.querySelectorAll(\".flip-card\").forEach((item) => {\r\n\t\t\titem.style.transform = \"rotateY(0deg)\";\r\n\t\t\titem.style.transition = \"transform 1s\";\r\n\t\t});\r\n\t};\r\n\tonMounted(() => {\r\n\t\t//滑动图片和诗句\r\n\t\tconst initSlider = () => {\r\n\t\t\tconst sliderContainer = document.querySelector(\".slider-container\");\r\n\t\t\tconst slideRight = document.getElementById(\"right-slide\");\r\n\t\t\tconst slideLeft = document.getElementById(\"left-slide\");\r\n\t\t\tconst upButton = document.querySelector(\".up-button\");\r\n\t\t\tconst downButton = document.querySelector(\".down-button\");\r\n\t\t\tconst slidesLength = slideLeft.querySelectorAll(\"img\").length;\r\n\t\t\tlet activeSlideIndex = 0;\r\n\r\n\t\t\tupButton.addEventListener(\"click\", () => changeSlide(\"up\"));\r\n\t\t\tdownButton.addEventListener(\"click\", () => changeSlide(\"down\"));\r\n\t\t\tconst changeSlide = (direction) => {\r\n\t\t\t\tdownButton.classList.add(\"down-active\");\r\n\t\t\t\tupButton.classList.add(\"up-active\");\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tupButton.classList.remove(\"up-active\");\r\n\t\t\t\t\tdownButton.classList.remove(\"down-active\");\r\n\t\t\t\t}, 1000);\r\n\t\t\t\tconst sliderHeight = sliderContainer.clientHeight;\r\n\t\t\t\tif (direction === \"up\") {\r\n\t\t\t\t\tactiveSlideIndex++;\r\n\t\t\t\t\tif (activeSlideIndex > slidesLength - 1) {\r\n\t\t\t\t\t\tactiveSlideIndex = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (direction === \"down\") {\r\n\t\t\t\t\tactiveSlideIndex--;\r\n\t\t\t\t\tif (activeSlideIndex < 0) {\r\n\t\t\t\t\t\tactiveSlideIndex = slidesLength - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tslideRight.style.transform = `translateY(-${activeSlideIndex * sliderHeight}px)`;\r\n\t\t\t\tslideLeft.style.transform = `translateY(-${activeSlideIndex * sliderHeight}px)`;\r\n\t\t\t};\r\n\t\t};\r\n\t\tinitSlider();\r\n\t});\r\n</script>\r\n\r\n<style scoped lang=\"scss\"  src=\"./index.scss\"/>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.scss?vue&type=style&index=0&id=0b6f609f&scoped=true&lang=scss&external\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0b6f609f\"]])\n\nexport default __exports__"],"names":["publicJsonUrl","imgLeftArr","noteRightArr","ref","i","push","imgId","imgSrc","openNewWindow","link","window","open","async","fetchPublicJsonWithAxios","url","response","axios","data","error","console","then","value","catch","rotateLeftSlide","document","querySelectorAll","forEach","item","style","transform","transition","rotateLeftSlideBack","onMounted","initSlider","sliderContainer","querySelector","slideRight","getElementById","slideLeft","upButton","downButton","slidesLength","length","activeSlideIndex","addEventListener","changeSlide","direction","classList","add","setTimeout","remove","sliderHeight","clientHeight","__exports__"],"sourceRoot":""}